<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Reset Password</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-900 via-indigo-900 to-blue-900">
  <div class="max-w-md w-full p-8 bg-white/10 backdrop-blur-xl rounded-2xl shadow-2xl border border-white/20">
    <h2 class="mt-6 text-center text-3xl font-bold text-white tracking-tight">
      Set New Password
    </h2>
    <p class="mt-2 text-center text-sm text-gray-300">
      Enter your new password below.
    </p>

    <% if (message) { %>
      <div class="flex flex-col items-center mt-4">
        <svg class="w-12 h-12 text-green-400 mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
        </svg>
        <div class="text-green-400 text-sm text-center bg-white/10 p-3 rounded-lg w-full">
          <%= message %>
        </div>
      </div>
      <div class="text-sm text-center mt-6">
        <a href="<%= frontendUrl %>/login" class="font-medium text-indigo-300 hover:text-indigo-200 transition-all">
          Back to Sign in
        </a>
      </div>
    <% } else { %>
      <% if (error) { %>
        <div class="text-red-400 text-sm text-center bg-white/10 p-3 rounded-lg mt-4">
          <%= error %>
        </div>
      <% } %>

      <form action="/api/reset-password/<%= token %>" method="POST" class="mt-8 space-y-6">
        <div class="space-y-4">
          <div>
            <label for="password" class="sr-only">New Password</label>
            <input
              id="password"
              name="password"
              type="password"
              required
              class="appearance-none rounded-lg relative block w-full px-4 py-3 bg-white/10 border border-white/30 placeholder-gray-300 text-white focus:outline-none focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400 sm:text-sm transition-all"
              placeholder="New Password"
            />
          </div>
          <div>
            <label for="confirmPassword" class="sr-only">Confirm Password</label>
            <input
              id="confirmPassword"
              name="confirmPassword"
              type="password"
              required
              class="appearance-none rounded-lg relative block w-full px-4 py-3 bg-white/10 border border-white/30 placeholder-gray-300 text-white focus:outline-none focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400 sm:text-sm transition-all"
              placeholder="Confirm Password"
            />
          </div>
        </div>

        <div>
          <button
            type="submit"
            class="group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all"
          >
            Reset Password
          </button>
        </div>

        <div class="text-sm text-center">
          <a href="<%= frontendUrl %>/login" class="font-medium text-indigo-300 hover:text-indigo-200 transition-all">
            Back to Sign in
          </a>
        </div>
      </form>
    <% } %>
  </div>
</body>
</html>